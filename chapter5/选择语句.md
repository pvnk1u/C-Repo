# 选择语句

尽管C语言有许多运算符，但是它所拥有的语句却相对较少。到目前为止，只见过两种语句：return语句和表达式语句（第四章）。根据对语句执行顺序的影响，C语言的其余语句大多属于以下3大类：

- 选择语句

  if语句和switch语句允许程序在一组可选项选择一条特定的执行路径

- 重复语句

  while语句、do语句和for语句支持重复（循环）操作

- 跳转语句

  break语句、continue语句和goto语句导致无条件跳转到程序中的某个位置（return语句也属于此类）



C语言还有其他两类语句，一类是复合语句（把几条语句组合成一条语句），一类是空语句（不执行任何操作）。



本章讨论选择语句和复合语句。



## 逻辑表达式

包括if语句在内的某些C语句都必须测试表达式的值是“真”还是“假”。例如，if语句可能需要检测表达式`i<j`，真值将说明i是小于j的。在某些编程语言中，类似i < j 这样的表达式都具有特殊的“布尔”类型或“逻辑”类型。这样的类型只有两个值，即假和真。而**在C语言中，诸如`i<j`这样的比较运算会产生整数：0(假)或1(真)。**



### 关系运算符

C语言的关系运算符和数学上的<、>、≤和≥运算符相对应，只是用在C语言的表达式中时产生的结果是0（假）或1（真）。例如，表达式 10<11的值为1。



关系运算符可以用于比较整数和浮点数，也允许比较混合类型的操作数。因此，表达式1<2.5的值为1，而表达式5.6<4的值为0。



关系运算符的优先级低于算术运算符。例如，表达式i+j < k-1的意思是(i+k) < (k-1)。关系运算符都是左结合的。



### 判等运算符

C语言中表示关系运算符的符号与其他许多编程语言中的相同。“等于“运算符是两个紧邻的=字符，一个单独的=字符代表的是赋值运算符。”不等于“运算符也是两个字符，即`!=`。



和关系运算符一样，判等运算符也是左结合的，也是产生0（假）或1（真）作为结果。然而，判等运算符的优先级低于关系运算符。例如，表达式i<j == j<k等价于表达式（i<j） == (j < k)。



### 逻辑运算符

利用逻辑运算符 与、或和非，较简单的表达式可以构建出更加复杂的逻辑表达式。!是一元运算符，而&&和||是二元运算符。



运算符&&和运算符||都对操作数进行”短路“计算。





## if语句

if语句允许程序通过测试表达式的值从两种选项中选择一种。if语句的最简单格式如下：

```c
[if语句] 	if(表达式)语句
```

下面是一个示例：

```c
if(line_num == MAX_LINES)
	line_num = 0;
```

如果条件line_num == MAX_LINES为真（有非零值），那么执行语句line_num = 0;。



if语句中可以使用复合语句来处理多条语句：

```c
if(line_num == MAX_LINES){
	line_num = 0;
	page_num++;
}
```



if语句可以使用级联式语句:

```c
if(n <0){
	printf("n is less than 0\n");
}else if(n == 0){
	printf("n is equals to 0\n");
}else{
	printf("n is greater than 0\n");
}
```





### 计算股票经纪人的佣金

当股票通过经纪人进行买卖时，经纪人的佣金往往根据股票交易额采用某种变化的比例进行计算。下面的表格显示了实际支付给经纪人的费用数量。

| 交易额范围       | 佣金数量      |
| ---------------- | ------------- |
| 低于2500美元     | 30美元+1.7%   |
| 2500~6250美元    | 56美元+0.66%  |
| 6250~20000美元   | 76美元+0.34%  |
| 20000~50000美元  | 100美元+0.22% |
| 50000~500000美元 | 155美元+0.11% |
| 超过500000美元   | 255美元+0.09% |



最低收费是39美元。下面的程序要求用户录入交易额，然后显示出佣金的数额：

```
Enter value of trade: 30000
Commission: $166.00
```

