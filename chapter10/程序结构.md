# 程序结构

## 局部变量

我们把在函数体内声明的变量称为该函数的局部变量。在下面的函数中，sum是局部变量：

```c
int sum_digits(int n)
{
	int sum = 0;		/* local variable */
	
	while(n>0){
		sum += n % 10;
		n /= 10;
	}
	
	return sum;
}
```

默认情况下，局部变量具有下列性质。

1. 自动存储期限

   变量的存储期限（或存储长度）是在变量存储单元存在期内程序执行的部分。局部变量的存储单元是在包含该变量的函数被调用时“自动”分配的，函数返回时收回分配，所以称这种变量具有自动的存储期限。包含局部变量的函数返回时，局部变量的值无法保留。当再次调用该函数时，无法保证变量仍拥有原先的值。

2. 块作用域

   变量的作用域是可以引用该变量的程序文本的部分。局部变量拥有块作用域：从变量声明的点开始一直到所在函数体的末尾。因为局部变量的作用域不能延伸到其所属函数之外，所以其他函数可以把同名变量用于别的用途。



### 静态局部变量

在局部变量声明中放置单词static可以使变量具有静态存储期限而不再是自动存储期限。因为具有静态存储期限的变量拥有永久的存储单元，所以在整个程序执行期间都会保留变量的值。思考下面的函数：

```c
void f(void)
{
	static int i;
	...
}
```

因为局部变量i已经声明为static，所以在程序执行期间它所占据的内存单元是不变的。在f返回时，变量i不会丢失其值。



静态局部变量始终有块作用域，所以它对其他函数是不可见的。概括来说，静态变量是对其他函数隐藏数据的地方，但是它会为将来同一个函数的再调用保留这些数据。



### 形式参数

